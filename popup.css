/* 1. Lock the popup size and use flex on the root */
html, body {
  margin: 0;
  padding: 0;
  width: 760px;    /* 60 + 600 + 100 */
  height: 500px;   /* whatever visible height you want */
  overflow: hidden;/* prevent outer scroll */
  display: flex;   /* enable flex for body */
}

/* 2. Main container holds scrollable timeline + fixed palette */
#calendar-container {
  display: flex;
  width: 100%;
  height: 100%;
}

/* 3. This area scrolls vertically */
#scroll-wrapper {
  display: flex;        /* lay out labels + calendar in a row */
  flex-shrink: 0;       /* donâ€™t shrink when flexing */
  width: 660px;         /* 60px labels + 600px calendar */
  height: 100%;
  overflow-y: auto;     /* only this scrolls */
  overflow-x: hidden;
}

/* 4. Labels sidebar (fixed width, tall content) */
#labels {
  flex: none;
  width: 60px;
  height: 1500px;       /* the full timeline height */
  position: relative;
  border-right: 1px solid #ccc;
  box-sizing: border-box;
}

/* 5. Calendar area (fixed width, tall content) */
#calendar {
  flex: none;
  width: 600px;
  height: 1500px;       /* the full timeline height */
  position: relative;
  border-right: 1px solid #ccc;
  box-sizing: border-box;
}

/* 6. Palette on the right never scrolls */
#palette {
  flex: none;
  width: 100px;
  height: 100%;
  padding: 10px;
  box-sizing: border-box;
  background: #f5f5f5;
  border-left: 1px solid #ccc;
  overflow: hidden;
}

/* (Your existing styles for .draggable-template, .event, etc. remain below.) */

.draggable-template {
  width: 80px; height: 60px;
  border: 1px solid #999;
  cursor: grab;
  text-align: center; line-height: 60px;
  user-select: none; margin-bottom: 5px;
  text-transform: lowercase;
}
.draggable-template:nth-child(1) { background: #e0ffe0; }
.draggable-template:nth-child(2),
.draggable-template:nth-child(3) { background: lightyellow; }
.draggable-template:nth-child(4),
.draggable-template:nth-child(5),
.draggable-template:nth-child(6) { background: #ffe0e0; }

.time-slot { height: 15px; border-top: 1px solid #eee; box-sizing: border-box; }
.time-slot.hour { border-top: 2px solid #bbb; }
.label-line {
  position: absolute; height: 15px; font-size: 10px;
  width: 100%; text-align: right; padding-right: 5px;
  box-sizing: border-box; line-height: 15px;
}

.event {
  position: absolute; left: 0; right: 0;
  background: #ddd; border: 1px solid #999;
  padding: 2px; box-sizing: border-box;
  cursor: move; min-height: 15px; user-select: none;
  text-transform: lowercase;
}
.event.editing { cursor: text; user-select: text; }
.event.resize-top { cursor: n-resize; }
.event.resize-bottom { cursor: s-resize; }
.event.selected { border: 2px solid blue; }

#current-time-line {
  position: absolute; left: 0; right: 0;
  height: 2px; background-color: red; z-index: 5;
}
